<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Chipmunk++</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Chipmunk++</h1>
<p>Chipmunk Physics for C++</p>
        <p class="view"><a href="https://github.com/jhasse/chipmunkpp">View the Project on GitHub <small>jhasse/chipmunkpp</small></a></p>
        <ul>
          <li><a href="https://github.com/jhasse/chipmunkpp/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jhasse/chipmunkpp/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jhasse/chipmunkpp">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>Welcome</h2>

<p>Chipmunk++ is a C++ wrapper for the <a href="http://chipmunk-physics.net/">Chipmunk Physics</a> library.</p>

<h3>Example</h3>

<p>Chipmunk's Hello World example with Chipmunk++:</p>

<div class="highlight">
<pre><span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;iomanip&gt;</span>
<span class="cp">#include &lt;chipmunk.hpp&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">cp</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// cp::Vect is a 2D vector.</span>
    <span class="n">Vect</span> <span class="n">gravity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span>

    <span class="c1">// Create an empty space.</span>
    <span class="n">Space</span> <span class="n">space</span><span class="p">;</span>
    <span class="n">space</span><span class="p">.</span><span class="n">setGravity</span><span class="p">(</span><span class="n">gravity</span><span class="p">);</span>

    <span class="c1">// Add a static line segment shape for ground.</span>
    <span class="c1">// We'll make it slightly tilted so the ball will roll off.</span>
    <span class="c1">// We attach it to space.staticBody to tell Chipmunk it shouldn't be movable.</span>
    <span class="n">SegmentShape</span> <span class="n">ground</span><span class="p">(</span><span class="n">space</span><span class="p">.</span><span class="n">staticBody</span><span class="p">,</span> <span class="n">Vect</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">Vect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">ground</span><span class="p">.</span><span class="n">setFriction</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">space</span><span class="p">.</span><span class="n">addShape</span><span class="p">(</span><span class="n">ground</span><span class="p">);</span>

    <span class="c1">// Now let's make a ball that falls onto the line and rolls off.</span>
    <span class="c1">// First we need to make a Body to hold the physical properties of the object.</span>
    <span class="c1">// These include the mass, position, velocity, angle, etc. of the object.</span>
    <span class="c1">// Then we attach collision shapes to the cpBody to give it a size and shape.</span>

    <span class="k">const</span> <span class="n">Float</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">Float</span> <span class="n">mass</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c1">// The moment of inertia is like mass for rotation</span>
    <span class="c1">// Use the cp::momentFor*() functions to help you approximate it.</span>
    <span class="k">const</span> <span class="n">Float</span> <span class="n">moment</span> <span class="o">=</span> <span class="n">momentForCircle</span><span class="p">(</span><span class="n">mass</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">radius</span><span class="p">);</span>

    <span class="n">Body</span> <span class="n">ballBody</span><span class="p">(</span><span class="n">mass</span><span class="p">,</span> <span class="n">moment</span><span class="p">);</span>
    <span class="n">space</span><span class="p">.</span><span class="n">addBody</span><span class="p">(</span><span class="n">ballBody</span><span class="p">);</span>
    <span class="n">ballBody</span><span class="p">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">Vect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">));</span>

    <span class="c1">// Now we create the collision shape for the ball.</span>
    <span class="c1">// You can create multiple collision shapes that point to the same body.</span>
    <span class="c1">// They will all be attached to the body and move arount to follow it.</span>
    <span class="n">CircleShape</span> <span class="n">ballShape</span><span class="p">(</span><span class="n">ballBody</span><span class="p">,</span> <span class="n">radius</span><span class="p">);</span>
    <span class="n">space</span><span class="p">.</span><span class="n">addShape</span><span class="p">(</span><span class="n">ballShape</span><span class="p">);</span>
    <span class="n">ballShape</span><span class="p">.</span><span class="n">setFriction</span><span class="p">(</span><span class="mf">0.7</span><span class="p">);</span>

    <span class="c1">// Now that it's all set up, we simulate all the objects in the space by</span>
    <span class="c1">// stepping forward through time in small increments called steps.</span>
    <span class="c1">// It is *highly* recommended to use a fixed size time step.</span>
    <span class="n">Float</span> <span class="n">timeStep</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="mf">60.0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">Float</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="n">time</span> <span class="o">+=</span> <span class="n">timeStep</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Vect</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">ballBody</span><span class="p">.</span><span class="n">getPos</span><span class="p">();</span>
        <span class="n">Vect</span> <span class="n">vel</span> <span class="o">=</span> <span class="n">ballBody</span><span class="p">.</span><span class="n">getVel</span><span class="p">();</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span>
             <span class="o">&lt;&lt;</span> <span class="s">"Time is "</span>          <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">time</span> <span class="o">&lt;&lt;</span> <span class="s">". "</span>
             <span class="o">&lt;&lt;</span> <span class="s">"ballBody is at "</span>   <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">pos</span> <span class="o">&lt;&lt;</span> <span class="s">". "</span>
             <span class="o">&lt;&lt;</span> <span class="s">"It's velocity is "</span> <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">vel</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">space</span><span class="p">.</span><span class="n">step</span><span class="p">(</span><span class="n">timeStep</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
</div>

      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/jhasse">jhasse</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>